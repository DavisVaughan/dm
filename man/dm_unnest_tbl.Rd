% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dm_unnest_tbl.R
\name{dm_unnest_tbl}
\alias{dm_unnest_tbl}
\alias{dm_unpack_tbl}
\title{Unnest or unpack columns from a wrapped table}
\usage{
dm_unnest_tbl(dm, table, col, ptype)

dm_unpack_tbl(dm, table, col, ptype)
}
\arguments{
\item{dm}{A dm.}

\item{table}{A table.}

\item{col}{The column to unpack or unnest (unquoted).}

\item{ptype}{A dm, only used to query names of primary and foreign keys.}
}
\value{
A dm.
}
\description{
\code{dm_unnest_tbl()} target a specific column to unnest
from the given table in a given dm.
A ptype or a set of keys should be given, not both.

\code{dm_unpack_tbl()} targets a specific column to unpack
from the given table in a given dm.
A ptype or a set of keys should be given,
not both.
}
\details{
\code{\link[=dm_nest_tbl]{dm_nest_tbl()}} is an inverse operation to \code{dm_unnest_tbl()}
if differences in row and column order are ignored.
The opposite is true if referential constraints between both tables
are satisfied.

\code{\link[=dm_pack_tbl]{dm_pack_tbl()}} is an inverse operation to \code{dm_unpack_tbl()}
if differences in row and column order are ignored.
The opposite is true if referential constraints between both tables
are satisfied
and if all rows in the parent table have at least one child row,
i.e. if the relationship is of cardinality 1:n or 1:1.
}
\examples{
airlines_wrapped <-
  dm_nycflights13() \%>\%
  dm_wrap(airlines)

# The ptype is required for reconstruction.
# It can be an empty dm, only primary and foreign keys are considered.
ptype <- dm_ptype(dm_nycflights13())

airlines_wrapped \%>\%
  dm_unnest_tbl(airlines, flights, ptype) \%>\%
  dm_unpack_tbl(flights, weather, ptype) \%>\%
  dm_unpack_tbl(flights, planes, ptype) \%>\%
  dm_unpack_tbl(flights, airports, ptype)
}
\seealso{
\code{\link[=dm_unwrap]{dm_unwrap()}}, \code{\link[=dm_nest_tbl]{dm_nest_tbl()}}, \code{\link[=dm_pack_tbl]{dm_pack_tbl()}}, \code{\link[=dm_wrap]{dm_wrap()}},
\code{\link[=dm_examine_constraints]{dm_examine_constraints()}}, \code{\link[=dm_examine_cardinalities]{dm_examine_cardinalities()}},
\code{\link[=dm_ptype]{dm_ptype()}}.
}
